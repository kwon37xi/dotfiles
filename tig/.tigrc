# https://jonas.github.io/tig/doc/tigrc.5.html
bind generic <C-P> !git push origin

# commit 의 diff 를 보다가 파일 이름 부분에서 ''H''를 누르면 해당 파일의 commit history 를 보여준다.
bind diff H !sh -c "tig \"$(git rev-parse --show-toplevel)/%(file)\""

# status view 에서 파일을 선택하고 ''H''를 누르면 해당 파일의 commit history 를 보여준다.
bind status H !sh -c "tig \"$(git rev-parse --show-toplevel)/%(file)\""

bind branch n !@git switch -c %(prompt)

# 일반 모드에서 9 를 누르면 commit hash 값을 클립보드로 복사해줌
bind generic 9 !@sh -c "echo -n %(commit) | xclip -selection c && notify-send -i edit-copy 'Commit copied - %(commit)'"

# commit amend
bind generic + !git commit --amend

# File log 보여주기
bind tree <C-L> >tig %(file)

# switch local 브랜치들
bind main <C-S> >sh -c "git switch $(git branch -vv | grep -v '^\\*' | fzf | awk '{print $1}')"
